<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>keyboard event test</title>
</head>
<body>
    <svg width="600" height="400"></svg>
    <script src="https://d3js.org/d3.v4.min.js" type="text/javascript"></script>
    <script>
        let characters = ["A", "S", "D", "F"];
        let svg = d3.select("svg");
        let rects = svg.selectAll("rect")
            .data(characters)
            .enter()
            .append("rect")
            .attr("x", (d, i) => 10 + i * 60)
            .attr("y", 150)
            .attr("width", 55)
            .attr("height", 55)
            .attr("rx", 5)
            .attr("rx", 5)
            .attr("fill", "black");
        let texts = svg.selectAll("text")
            .data(characters)
            .enter()
            .append("text")
            .attr("x", (d, i) => 10 + i * 60)
            .attr("y", 150)
            .attr("dx", 10)
            .attr("dy", 25)
            .attr("fill", "white")
            .attr("font-size", 24)
            .text(d => d);
        d3.select("body")
            .on("keydown", function() {
                rects.attr("fill", d => {
                    console.log(d);
                    console.log(d3.event.keyCode);
                    if(d == String.fromCharCode(d3.event.keyCode)) {
                        return "steelblue";
                    }
                    return "black";
                })
            })
            .on("keyup", function() {
                rects.attr("fill", "black")
            });
    </script>
</body>
</html>